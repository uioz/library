> https://drafts.csswg.org/css2/zindex.html#stacking-defs

# 定义

- tree order

  Preorder depth-first traversal of the *rendering* tree, in logical (not visual) order for bidirectional content, after taking into account properties that move boxes around.

- Element

  In this description, "element" refers to actual elements, pseudo-elements, and anonymous boxes. Pseudo-elements and anonymous boxes are treated as descendants in the appropriate places. For example, an outside list marker comes before an adjoining ':before' box in the line box, which comes before the content of the box, and so forth.

# 绘制顺序

栈底距离用户最远, 栈顶离用户最近:

![image-20200531011328782](./assets\image-20200531011328782.png)

层叠上下文的背景和拥有最小值的层叠上下文是栈底, 而值最大的层叠上下文在栈顶.

被包裹在另外一个画布中的画布是透明的, 反之它具有用户代理所定义的颜色. 它可以无限扩展且包含根元素. 最初, 视口的左上角固定在画布原点.

