# 基础思考模型

## 确定系列

一个系列代表两个含义:

- 图表的类型
- 一系列数据

则多个系列代表各自的图形和所包含的数据, 在使用 dataset 的情况下, 理解系列的第一步是先找到该系列的映射方式.

默认情况下, 系列按照列的方式进行映射:

```
source: [
    ['product', '2012', '2013', '2014', '2015'],
    ['Matcha Latte', 41.1, 30.4, 65.1, 53.3],
    ['Milk Tea', 86.5, 92.1, 85.7, 83.1],
    ['Cheese Cocoa', 24.1, 67.2, 79.5, 86.4]
]
```

这种情况下, 第一列或被作为类目轴, 第一行作为维度名称, 则类目轴上会出现:

1. Matcha Latte
2. Milk Tea
3. Cheese Cocoa

第一列会被视为类目轴上的数据, 数据的读取从第二列开始, 一个系列对应一组从上往下读取的数据:

```
series: [
    {type: 'bar'}, // 读取一列数据放到类目轴上
    41.1          86.5      24.1
    Matcha Latte  Milk Tea  Cheese Cocoa
]

series: [
    {type: 'bar'},
    {type: 'bar'}, // 读取两列数据到类目轴上
    41.1 30.4     86.5 92.1  24.1  67.2
    Matcha Latte  Milk Tea   Cheese Cocoa
]
```

系列可以规定类目轴映射的方式, 通过在系列上指定 `seriesLayoutBy: 'row'`, 将之前的列读取模式改为行读取模式.

```
source: [
    ['product', '2012', '2013', '2014', '2015'],
    ['Matcha Latte', 41.1, 30.4, 65.1, 53.3],
    ['Milk Tea', 86.5, 92.1, 85.7, 83.1],
    ['Cheese Cocoa', 24.1, 67.2, 79.5, 86.4]
]
```

按照行读取模式, 第一行作为类目轴, 第一列作为维度名称, 则类目轴上此时有:

- 2012
- 2013
- 2014
- 2015

数据的读取从第二行开始, 一个系列的数据从左向右读取:

```
series: [
    {type: 'bar'}, // 读取一行数据放到类目轴上
    41.1  30.4  65.1  53.3
    2012  2013  2014  2015
]

series: [
    {type: 'bar'},
    {type: 'bar'}, // 读取两行数据到类目轴上
    41.1 86.5  30.4 92.1  65.1 85.7  53.3 83.1
    2012       2013       2014       2015
]
```

## 确定维度名称

常用图表所描述的数据大部分是“二维表”结构，上述的例子中，我们都使用二维数组来容纳二维表。现在，当我们把系列（series）对应到“列”的时候，那么每一列就称为一个“维度（dimension）”，而每一行称为数据项（item）。反之，如果我们把系列（series）对应到表行，那么每一行就是“维度（dimension）”，每一列就是数据项（item）。

维度有两个作用

1. 对于数组类型的 dataset 提供维度名称和顺序与系列的映射
2. 针对对象类型的 dataset 名称不确定通过该属性指定维度顺序

对于数组形式的 dataset 默认情况下:

```
source: [
    ['product', '2012', '2013', '2014', '2015'],
    ['Matcha Latte', 41.1, 30.4, 65.1, 53.3],
    ['Milk Tea', 86.5, 92.1, 85.7, 83.1],
    ['Cheese Cocoa', 24.1, 67.2, 79.5, 86.4]
]
```

第一列为维度, 则维度顺序为:

- matcha latte
- milk tea
- cheese cocoa

对于对象格式的的 dataset 需要指明维度的顺序:

```
dataset: {
    // 用 dimensions 指定了维度的顺序。直角坐标系中，
    // 默认把第一个维度映射到 X 轴上，第二个维度映射到 Y 轴上。
    // 如果不指定 dimensions，也可以通过指定 series.encode
    // 完成映射，参见后文。
    dimensions: ['product', '2015', '2016', '2017'],
    source: [
        {product: 'Matcha Latte', '2015': 43.3, '2016': 85.8, '2017': 93.7},
        {product: 'Milk Tea', '2015': 83.1, '2016': 73.4, '2017': 55.1},
        {product: 'Cheese Cocoa', '2015': 86.4, '2016': 65.2, '2017': 82.5},
        {product: 'Walnut Brownie', '2015': 72.4, '2016': 53.9, '2017': 39.1}
    ]
},
```

则维度顺序为:

- 2015
- 2016
- 2017

## 确定坐标轴的显示

系列确定了类目轴, 而坐标轴决定了类目轴是在 x 轴还是 y 轴上显示, 一旦确定类目轴的显示, 另外一个轴则显示数值.