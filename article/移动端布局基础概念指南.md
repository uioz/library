# 标题: 移动端布局基础概念指南

我没有移动端开发经验, 但是我对移动端的页面的布局很感兴趣, 在过去的几个月的时间里我浏览了一些有关移动端布局的文章.  
不过即使花了我十几个小时的阅读, 我依然是一头雾水.  
在一本比较旧的讲解响应式的书中我看到了这一句话:
> 这是因为 iOS 上的 Safari浏览器默认是在980像素宽的画布上渲染页面，然后将画布缩小到与视口大小匹配。 虽然得放大页面才能看清楚，但页面内容没有被切掉。

结合之前我浏览过的文章这些内容忽然被串联了起来, 这篇文章就是我对**响应式以及移动布局**基础的一些思考和总结.  
如果你想了解其中的基本概念, 这篇文章将会非常适合你.  

# 移动端浏览器如何渲染一个为桌面设计的页面

为了简单起见, 我们不从概念讲起, 我们先来看看一个固定宽度的元素被放置到移动端浏览器中会发生什么.

有如下代码:
```html
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <style>
    .example{
      width: 900px;
      background-color: aqua;
    }
  </style>
</head>
<body>
  <div class="example">
    我的宽度是 900px
  </div>
</body>
</html>
```

我想这没有什么大不了的, 即使你不看下方的图片你也可以想象得到页面会渲染出什么样的内容:

那么移动端它是什么样子的呢, 下面展示了页面在不同浏览器在移动端表现的情况:

当然这些移动端的浏览器都是目前的最新版本, 他们渲染出的东西看起来都是一样的, 至少没有非常严重的兼容问题.  

仔细观察我们发现:**900px 宽的 div 没有占满屏幕, 也就是说屏幕的宽度比 900px 还要大.**  
那么屏幕宽度到底是多大呢, 我们插入一行代码来获取屏幕的宽度:
```html
<script>
  document.write(`html元素的宽度是${document.documentElement.clientWidth}`);
</script>
```

不同浏览器的显示结果为:

他们都输出了同样的数据那就是 980 在某种程度上我们知道了页面的宽度, 原来页面是 980px 的宽度所以 900px 的div无法铺满一行.  
但是等等, 我的记得手机的屏幕分辨率是 1080(宽)*(高) 啊这里输出的怎么是 980 呢?

首先页面的宽度的确是 980 在这种情况下的渲染你就像是桌面端在980宽的显示器上编写的页面效果一样.  
在没有使用其他影响页面设置的情况下, 这种情况基本可以理解为移动端浏览器按照 980px 的宽度来渲染页面, 然后再将页面缩放到适合屏幕的大小.

不理解没关系, 我们使用windows画图来描述这一行为:

为什么会有这种行为?

原因很简单, 在移动设备刚刚兴起的时候大多数的页面都是为桌面设计的在当时一个页面的内容区域的宽度一般在 980px 以内.  
但是移动设备屏幕的分辨率很小, 某款手机的屏幕的横向分辨率是 320px 完全不足以容纳为桌面设计的页面.  
和现在的情况相反, 手机厂商得设计一种方式来兼容现有的页面确保页面在移动端布局正常, 所以手机浏览器的默认内容区域的宽度被设置为桌面页面内容区域的典型值 980px(不同设备不同,后面有统一方法), 为了浏览效果和桌面一致将内容区域平铺到屏幕上.  
这样确保了布局正常且手机屏幕上浏览的整体效果和在桌面上的一致, 不过说到底移动端的横向分辨率只有 320px 自然有些内容看不清楚这个时候怎么办呢 -> 双击缩放呗🤣.

# 如何更改默认渲染行为

再来思考一下, 我们知道:
1. 不同手机的屏幕分辨率是不同的
2. 不同手机的屏幕尺寸也是不同的

而原有为小屏实际上是为了兼容桌面页面的渲染方式, 随着高分辨率(例如我的手机实际上是2k的分辨率, 但是被我调整到了1080p渲染)以及大尺寸(平板)的出现, 导致了体验不一致, 大屏幕的设备不需要缩放就可以正常浏览, 但是小屏幕设备还需要缩放.

回想一下移动端浏览器的两个默认的渲染行为:
1. 页面内容区域大小为 980px
2. 将页面区域按照比例缩放到屏幕的大小

但是我们希望:
1. 页面内容区域的大小就是屏幕的大小而不是固定的 980px.
2. 取消掉默认的这种缩放行为, 页面有多大就是多大.

这样一来移动端的开发逻辑就和桌面端一致了, 你设置多大的宽度页面就会拥有多大的宽度.

那么该如何做到呢, 答案就是使用`<meta name="viewport" content="">`来进行设置, 为了充分的理解并且使用该元素, 我们有必要了解一些另外的知识.

## css像素 与 物理像素

相应式中有许多单位名词, 例如本节标题上的内容不过为了简单起见本篇文章中不会使用这些名词.  

回顾一下刚才我提到了我的手机横向分辨率是 1080像素, 你可以返回查看之前的截图我们设置的

// TODO 修改为原生大小



讲解 屏幕缩放比例 与 css像素之间的关系

# 第三步
使用 viewport 的 初始缩放和device-width 来说明问题

# 第四步响应式设计

css像素会变化吗?

会变的只有设备的宽度

# 探讨缩放方案